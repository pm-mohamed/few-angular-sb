import { Meta, Story, Canvas, Description } from '@storybook/addon-docs';
import { moduleMetadata } from '@storybook/angular';

import {
  InputType,
  PmInputfieldComponent
} from '../../../projects/innotec/src/lib/components/pm-inputfield/pm-inputfield.component';
import {Icon, PmIconComponent} from '../../../projects/innotec/src/lib/components/pm-icon/pm-icon.component';
import {InputFieldData} from './data';
import {IconPosition} from "../../../projects/innotec/src/lib/components/pm-button/pm-button.component";
import {GetInputIconColorPipe} from "../../../projects/innotec/src/lib/components/pm-inputfield/get-input-icon-color.pipe";
import {GetInputIconSizePipe} from "../../../projects/innotec/src/lib/components/pm-inputfield/get-input-icon-size.pipe";

<Meta title="Components/Inputfield/Inputfield" component={PmInputfieldComponent} argTypes={{}} decorators={[
  //ðŸ‘‡ Import nested components
   moduleMetadata({
    declarations: [PmIconComponent, PmInputfieldComponent, GetInputIconColorPipe, GetInputIconSizePipe]
   })
]}/>

<Description of={PmIconComponent} />
<Description markdown={`# Inputfields`}/>

export const Template = args => ({
  props: {
    ...args,
  },
});


This contains definitions for all **Inputfield**.

## Default Inputfield - No Icon

<Canvas withToolbar isColumn>
  <Story name="Inputfield" args={{
    ...InputFieldData,
    placeholderText: 'Name der Aufgabe eintragen',
  }}>
    {Template.bind({})}
  </Story>
  <Story name="Inputfield - No Icon" args={{
      ...InputFieldData,
      placeholderText: 'Name der Aufgabe eintragen',
      icon: undefined
    }}>
    {Template.bind({})}
  </Story>
  <Story name="Inputfield - Hover" args={{
    ...InputFieldData,
    placeholderText: 'Name der Aufgabe eintragen',
    active: true,
    hovered: true
  }}>
    {Template.bind({})}
  </Story>
  <Story name="Inputfield - Active" args={{
    ...InputFieldData,
    placeholderText: '',
    active: true
  }}>
    {Template.bind({})}
  </Story>
  <Story name="Inputfield - Labelled" args={{
    ...InputFieldData,
    placeholderText: 'Name der Aufgabe eintragen',
    icon: undefined,
    isLabelled: true,
    label:'Name*'
  }}>
    {Template.bind({})}
  </Story>
  <Story name="Inputfield - disabled" args={{
    ...InputFieldData,
    placeholderText: '5 Minuten',
    disabled: true
  }}>
    {Template.bind({})}
  </Story>
</Canvas>

## Default Inputfield - Icon

<Canvas withToolbar isColumn>
  <Story name="Inputfield - Left Icon" args={{
    ...InputFieldData,
    placeholderText: 'Suche',
    iconPosition: IconPosition.LEFT,
    icon: Icon.SEARCH_ACTION,
    withIcon: true,
    type: InputType.DEFAULT,
    iconRotation: 0,
  }}>
    {Template.bind({})}
  </Story>
  <Story name="Inputfield - Right Icon" args={{
    ...InputFieldData,
    placeholderText: 'Piktogramm auswÃ¤hlen',
    select: true,
    iconPosition: IconPosition.RIGHT,
    icon: Icon.DROPDOWN_DOWN_ACTION,
    iconRotation: 0,
  }}>
    {Template.bind({})}
  </Story>
  <Story name="Inputfield - Error- Invalid" args={{
    ...InputFieldData,
    placeholderText: '',
    error: true,
    assistiveText: 'Empty Text',
    iconPosition: IconPosition.RIGHT,
    icon: Icon.INFO_MESSAGE,
    type: InputType.ERROR,
    iconRotation: 0,
  }}>
    {Template.bind({})}
  </Story>
  <Story name="Inputfield - Assistive Text" args={{
    ...InputFieldData,
    placeholderText: 'Name der Aufgabe eintragen',
    isLabelled: true,
    label:'Name*',
    hasAssistiveText:true,
    assistiveText: 'Lorem ipusm',
    iconPosition: IconPosition.RIGHT,
    icon: Icon.INFO_MESSAGE,
    type: InputType.PRIMARY,
    iconRotation: 0,
  }}>
    {Template.bind({})}
  </Story>
  <Story name="Inputfield - Suche" args={{
    ...InputFieldData,
    placeholderText: 'Suche',
    iconPosition: IconPosition.LEFT,
    icon: Icon.SEARCH_ACTION,
    withIcon: true,
    type: InputType.DEFAULT,
    iconRotation: 0,
  }}>
    {Template.bind({})}
  </Story>
  <Story name="Inputfield - Filled - delete" args={{
    ...InputFieldData,
    placeholderText: '5 Minuten',
    delete: true,
    active: true,
    iconPosition: IconPosition.RIGHT,
    icon: Icon.CLOSE_ACTION,
    iconRotation: 0,
  }}>
    {Template.bind({})}
  </Story>
  <Story name="Inputfield - Password" args={{
    ...InputFieldData,
    placeholderText: 'Passwort eingeben',
    isLabelled: true,
    label:'Passwort*',
    iconPosition: IconPosition.RIGHT,
    icon: Icon.VISIBLE_ACTION,
    iconRotation: 0,
  }}>
    {Template.bind({})}
  </Story>
</Canvas>

## Default Inputfield - Resizable

<Canvas withToolbar isColumn>
  <Story name="Inputfield - Resizable" args={{
    ...InputFieldData,
    placeholderText: 'FÃ¼ge ein Kommentar hinzuâ€¦',
    isTextArea:true,
    icon: undefined
  }}>
    {Template.bind({})}
  </Story>
</Canvas>

> Note: ``Disabled``, ``Hover`` and ``Active`` also work by defining the state ``:disabled``, ``:hover`` and ``:active`` of the component.

<br/><br/>

## Design

[![XD-Inputfields](https://img.shields.io/badge/-Inputfields-%235c5c5c?logo=adobexd&labelColor=450034)](https://xd.adobe.com/view/aec6f38b-76a2-4b58-b371-63fac4c7e2fe-fb95/screen/72c1fefd-68ba-4366-b329-2e8198330b0d/specs/)
